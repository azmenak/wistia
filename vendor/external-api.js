/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};

/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {

/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId])
/******/ 			return installedModules[moduleId].exports;

/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			exports: {},
/******/ 			id: moduleId,
/******/ 			loaded: false
/******/ 		};

/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);

/******/ 		// Flag the module as loaded
/******/ 		module.loaded = true;

/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}


/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;

/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;

/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "/assets/";

/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(0);
/******/ })
/************************************************************************/
/******/ ({

/***/ 0:
/***/ function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(1346);


/***/ },

/***/ 12:
/***/ function(module, exports) {

module.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e};

/***/ },

/***/ 42:
/***/ function(module, exports) {

/* WEBPACK VAR INJECTION */(function(__webpack_amd_options__) {module.exports = __webpack_amd_options__;

/* WEBPACK VAR INJECTION */}.call(exports, {}))

/***/ },

/***/ 859:
/***/ function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/* WEBPACK VAR INJECTION */(function(module) {!function(e,t,i){"use strict";function s(t){if(this.support=!("undefined"==typeof File||"undefined"==typeof Blob||"undefined"==typeof FileList||!Blob.prototype.slice&&!Blob.prototype.webkitSlice&&!Blob.prototype.mozSlice),this.support){this.supportDirectory=/Chrome/.test(e.navigator.userAgent),this.files=[],this.defaults={chunkSize:1048576,forceChunkSize:!1,simultaneousUploads:3,singleFile:!1,fileParameterName:"file",progressCallbacksInterval:500,speedSmoothingFactor:.1,query:{},headers:{},withCredentials:!1,preprocess:null,method:"multipart",testMethod:"GET",uploadMethod:"POST",prioritizeFirstAndLastChunk:!1,allowDuplicateUploads:!1,target:"/",testChunks:!0,generateUniqueIdentifier:null,maxChunkRetries:0,chunkRetryInterval:null,permanentErrors:[404,415,500,501],successStatuses:[200,201,202],onDropStopPropagation:!1,queueLimit:1/0,overrideContentTypeHeader:!1},this.opts={},this.events={};var i=this;this.onDrop=function(e){i.opts.onDropStopPropagation&&e.stopPropagation(),e.preventDefault();var t=e.dataTransfer;t.items&&t.items[0]&&t.items[0].webkitGetAsEntry?i.webkitReadDataTransfer(e):i.addFiles(t.files,e)},this.preventEvent=function(e){e.preventDefault()},this.opts=s.extend({},this.defaults,t||{})}}function n(e,t){this.flowObj=e,this.file=t,this.name=t.fileName||t.name,this.size=t.size,this.relativePath=t.relativePath||t.webkitRelativePath||this.name,this.uniqueIdentifier=e.generateUniqueIdentifier(t),this.chunks=[],this.paused=!1,this.error=!1,this.averageSpeed=0,this.currentSpeed=0,this._lastProgressCallback=Date.now(),this._prevUploadedSize=0,this._prevProgress=0,this.bootstrap()}function r(t,i,s){this.flowObj=t,this.fileObj=i,this.fileObjSize=i.size,this.offset=s,this.tested=!1,this.retries=0,this.pendingRetry=!1,this.preprocessState=0,this.loaded=0,this.total=0;var n=this.flowObj.opts.chunkSize;this.startByte=this.offset*n,this.endByte=Math.min(this.fileObjSize,(this.offset+1)*n),this.xhr=null,this.fileObjSize-this.endByte<n&&!this.flowObj.opts.forceChunkSize&&(this.endByte=this.fileObjSize);var r=this;this.event=function(e,t){t=Array.prototype.slice.call(arguments),t.unshift(r),r.fileObj.chunkEvent.apply(r.fileObj,t)},this.progressHandler=function(e){e.lengthComputable&&(r.loaded=e.loaded,r.total=e.total),r.event("progress",e)},this.testHandler=function(e){var t=r.status(!0);"error"===t?(r.event(t,r.message()),r.flowObj.uploadNextChunk()):"success"===t?(r.tested=!0,r.event(t,r.message()),r.flowObj.uploadNextChunk()):r.fileObj.paused||(r.tested=!0,r.send())},this.markAlreadyUploadedChunksComplete=function(e){if(!r.flowObj.resumableChecked){r.flowObj.resumableChecked=!0;var t=this.getRangesLoaded(e),i=this;t.forEach(function(e){i.fileObj.chunks.forEach(function(t){var i=t.startByte<e.startByte||t.endByte>e.endByte,s=!i;s&&(t.previouslyUploaded=!0)})})}},this.getRangesLoaded=e.getBytesLoaded=function(e){var t,i=/([0-9]*)-([0-9]*)\/([0-9]*)/;return t=e.split(",").map(function(e){var t=i.exec(e);return t?{startByte:t[1],endByte:t[2],totalBytes:t[3]}:{startByte:0,endByte:0,totalBytes:0}})},this.doneHandler=function(e){var t=r.status();r.xhr&&r.markAlreadyUploadedChunksComplete(r.xhr.responseText),"success"===t||"error"===t?(r.event(t,r.message()),r.flowObj.uploadNextChunk()):(r.retries++,r.retryInterval=1e3*(Math.pow(2,r.retries)-1),r.event("retry",r.message()),r.pendingRetry=!0,r.abort(),null!==r.retryInterval?setTimeout(function(){r.send()},r.retryInterval):r.send())}}function o(e,t){var i=e.indexOf(t);i>-1&&e.splice(i,1)}function a(e,t){return"function"==typeof e&&(t=Array.prototype.slice.call(arguments),e=e.apply(null,t.slice(1))),e}function h(e,t){setTimeout(e.bind(t),0)}function u(e,t){return l(arguments,function(t){t!==e&&l(t,function(t,i){e[i]=t})}),e}function l(e,t,i){if(e){var s;if("undefined"!=typeof e.length){for(s=0;s<e.length;s++)if(t.call(i,e[s],s)===!1)return}else for(s in e)if(e.hasOwnProperty(s)&&t.call(i,e[s],s)===!1)return}}var f=e.navigator.msPointerEnabled;s.prototype={on:function(e,t){e=e.toLowerCase(),this.events.hasOwnProperty(e)||(this.events[e]=[]),this.events[e].push(t)},off:function(e,t){e!==i?(e=e.toLowerCase(),t!==i?this.events.hasOwnProperty(e)&&o(this.events[e],t):delete this.events[e]):this.events={}},fire:function(e,t){t=Array.prototype.slice.call(arguments),e=e.toLowerCase();var i=!1;return this.events.hasOwnProperty(e)&&l(this.events[e],function(e){i=e.apply(this,t.slice(1))===!1||i},this),"catchall"!=e&&(t.unshift("catchAll"),i=this.fire.apply(this,t)===!1||i),!i},webkitReadDataTransfer:function(e){function t(e){e.readEntries(function(r){r.length?(o+=r.length,l(r,function(e){if(e.isFile){var n=e.fullPath;e.file(function(e){i(e,n)},s)}else e.isDirectory&&t(e.createReader())}),t(e)):n()},s)}function i(e,t){e.relativePath=t.substring(1),a.push(e),n()}function s(e){throw e}function n(){0==--o&&r.addFiles(a,e)}var r=this,o=e.dataTransfer.items.length,a=[];l(e.dataTransfer.items,function(e){var s=e.webkitGetAsEntry();return s?void(s.isFile?i(e.getAsFile(),s.fullPath):t(s.createReader())):void n()})},generateUniqueIdentifier:function(e){var t=this.opts.generateUniqueIdentifier;if("function"==typeof t)return t(e);var i=e.relativePath||e.webkitRelativePath||e.fileName||e.name;return e.size+"-"+i.replace(/[^0-9a-zA-Z_-]/gim,"")},uploadNextChunk:function(e){var t=!1;if(this.opts.prioritizeFirstAndLastChunk&&(l(this.files,function(e){return!e.paused&&e.chunks.length&&"pending"===e.chunks[0].status()?(e.chunks[0].send(),t=!0,!1):!e.paused&&e.chunks.length>1&&"pending"===e.chunks[e.chunks.length-1].status()?(e.chunks[e.chunks.length-1].send(),t=!0,!1):void 0}),t))return t;if(l(this.files,function(e){return e.paused||l(e.chunks,function(e){return"pending"===e.status()?(e.send(),t=!0,!1):void 0}),t?!1:void 0}),t)return!0;var i=!1;return l(this.files,function(e){return e.isComplete()?void 0:(i=!0,!1)}),i||e||h(function(){this.fire("complete")},this),!1},assignBrowse:function(e,i,s,n){"undefined"==typeof e.length&&(e=[e]),l(e,function(e){var r;"INPUT"===e.tagName&&"file"===e.type?r=e:(r=t.createElement("input"),r.setAttribute("type","file"),u(r.style,{visibility:"hidden",position:"absolute",width:"1px",height:"1px"}),e.appendChild(r),e.addEventListener("click",function(t){"A"==e.tagName&&(t.stopPropagation(),t.preventDefault()),e.getAttribute("data-suppress-browse")||r.click()},!1),r.addEventListener("click",function(e){e.stopPropagation()},!0)),this.opts.singleFile||s||r.setAttribute("multiple","multiple"),i&&r.setAttribute("webkitdirectory","webkitdirectory"),l(n,function(e,t){r.setAttribute(t,e)});var o=this;r.addEventListener("change",function(e){e.target.value&&(o.addFiles(e.target.files,e),e.target.value="")},!1)},this)},assignDrop:function(e){"undefined"==typeof e.length&&(e=[e]),l(e,function(e){e.addEventListener("dragover",this.preventEvent,!1),e.addEventListener("dragenter",this.preventEvent,!1),e.addEventListener("drop",this.onDrop,!1)},this)},unAssignDrop:function(e){"undefined"==typeof e.length&&(e=[e]),l(e,function(e){e.removeEventListener("dragover",this.preventEvent),e.removeEventListener("dragenter",this.preventEvent),e.removeEventListener("drop",this.onDrop)},this)},setQueueLimit:function(e){this.opts.queueLimit=e},isUploading:function(){var e=!1;return l(this.files,function(t){return t.isUploading()?(e=!0,!1):void 0}),e},_shouldUploadNext:function(){var e=0,t=!0,i=this.opts.simultaneousUploads;return l(this.files,function(s){l(s.chunks,function(s){return"uploading"===s.status()&&(e++,e>=i)?(t=!1,!1):void 0})}),t&&e},upload:function(){var e=this._shouldUploadNext();if(e!==!1){this.fire("uploadStart");for(var t=!1,i=1;i<=this.opts.simultaneousUploads-e;i++)t=this.uploadNextChunk(!0)||t;t||h(function(){this.fire("complete")},this)}},resume:function(){l(this.files,function(e){e.resume()})},pause:function(){l(this.files,function(e){e.pause()})},cancel:function(){for(var e=this.files.length-1;e>=0;e--)this.files[e].cancel()},progress:function(){var e=0,t=0;return l(this.files,function(i){e+=i.progress()*i.size,t+=i.size}),t>0?e/t:0},addFile:function(e,t){this.addFiles([e],t)},addFiles:function(e,t){var i,s=[],r=[];return l(e,function(e){if((!f||f&&e.size>0)&&(e.size%4096!==0||"."!==e.name&&"."!==e.fileName)&&(this.opts.allowDuplicateUploads||!this.getFromUniqueIdentifier(this.generateUniqueIdentifier(e)))){var i=new n(this,e);this.fire("fileAdded",i,t)&&r.push(i)}},this),i=-1*(this.opts.queueLimit-r.length),i>0?this.fire("queueLimitExceeded",i):(s=s.concat(r),this.fire("filesAdded",s,t)&&l(s,function(e){this.opts.singleFile&&this.files.length>0&&this.removeFile(this.files[0]),this.files.push(e)},this),void this.fire("filesSubmitted",s,t))},removeFile:function(e){for(var t=this.files.length-1;t>=0;t--)this.files[t]===e&&(this.files.splice(t,1),e.abort())},getFromUniqueIdentifier:function(e){var t=!1;return l(this.files,function(i){i.uniqueIdentifier===e&&(t=i)}),t},getSize:function(){var e=0;return l(this.files,function(t){e+=t.size}),e},sizeUploaded:function(){var e=0;return l(this.files,function(t){e+=t.sizeUploaded()}),e},timeRemaining:function(){var e=0,t=0;return l(this.files,function(i){i.paused||i.error||(e+=i.size-i.sizeUploaded(),t+=i.averageSpeed)}),e&&!t?Number.POSITIVE_INFINITY:e||t?Math.floor(e/t):0}},n.prototype={measureSpeed:function(){var e=Date.now()-this._lastProgressCallback;if(e){var t=this.flowObj.opts.speedSmoothingFactor,i=this.sizeUploaded();this.currentSpeed=Math.max((i-this._prevUploadedSize)/e*1e3,0),this.averageSpeed=t*this.currentSpeed+(1-t)*this.averageSpeed,this._prevUploadedSize=i}},chunkEvent:function(e,t,i){switch(t){case"progress":if(Date.now()-this._lastProgressCallback<this.flowObj.opts.progressCallbacksInterval)break;this.measureSpeed(),this.flowObj.fire("fileProgress",this,e),this.flowObj.fire("progress"),this._lastProgressCallback=Date.now();break;case"error":this.error=!0,this.abort(!0),this.flowObj.fire("fileError",this,i,e),this.flowObj.fire("error",i,this,e);break;case"success":if(this.error)return;this.measureSpeed(),this.flowObj.fire("fileChunkSuccess",this,e),this.flowObj.fire("fileProgress",this,e),this.flowObj.fire("progress"),this._lastProgressCallback=Date.now(),this.isComplete()&&(this.currentSpeed=0,this.averageSpeed=0,this.flowObj.fire("fileSuccess",this,i,e));break;case"retry":this.flowObj.fire("fileRetry",this,e)}},pause:function(){this.paused=!0,this.abort()},resume:function(){this.paused=!1,this.flowObj.upload()},abort:function(e){this.currentSpeed=0,this.averageSpeed=0;var t=this.chunks;e&&(this.chunks=[]),l(t,function(e){"uploading"===e.status()&&(e.abort(),this.flowObj.uploadNextChunk())},this)},cancel:function(){this.flowObj.removeFile(this)},retry:function(){this.bootstrap(),this.flowObj.upload()},bootstrap:function(){this.abort(!0),this.error=!1,this._prevProgress=0;for(var e=this.flowObj.opts.forceChunkSize?Math.ceil:Math.floor,t=Math.max(e(this.file.size/this.flowObj.opts.chunkSize),1),i=0;t>i;i++)this.chunks.push(new r(this.flowObj,this,i))},progress:function(){if(this.error)return 1;if(1===this.chunks.length)return this._prevProgress=Math.max(this._prevProgress,this.chunks[0].progress()),this._prevProgress;var e=0;l(this.chunks,function(t){e+=t.progress()*(t.endByte-t.startByte)});var t=e/this.size;return this._prevProgress=Math.max(this._prevProgress,t>.9999?1:t),this._prevProgress},isUploading:function(){var e=!1;return l(this.chunks,function(t){return"uploading"===t.status()?(e=!0,!1):void 0}),e},isComplete:function(){var e=!1;return l(this.chunks,function(t){var i=t.status();return"pending"===i||"uploading"===i||1===t.preprocessState?(e=!0,!1):void 0}),!e},sizeUploaded:function(){var e=0;return l(this.chunks,function(t){e+=t.sizeUploaded()}),e},timeRemaining:function(){if(this.paused||this.error)return 0;var e=this.size-this.sizeUploaded();return e&&!this.averageSpeed?Number.POSITIVE_INFINITY:e||this.averageSpeed?Math.floor(e/this.averageSpeed):0},getType:function(){return this.file.type&&this.file.type.split("/")[1]},getExtension:function(){return this.name.substr((~-this.name.lastIndexOf(".")>>>0)+2).toLowerCase()}},r.prototype={getParams:function(){return{flowChunkNumber:this.offset+1,flowChunkSize:this.flowObj.opts.chunkSize,flowCurrentChunkSize:this.endByte-this.startByte,flowTotalSize:this.fileObjSize,flowIdentifier:this.fileObj.uniqueIdentifier,flowFilename:this.fileObj.name,flowRelativePath:this.fileObj.relativePath,flowTotalChunks:this.fileObj.chunks.length}},getTarget:function(e,t){return e+=e.indexOf("?")<0?"?":"&",e+t.join("&")},test:function(){this.xhr=new XMLHttpRequest,this.xhr.addEventListener("load",this.testHandler,!1),this.xhr.addEventListener("error",this.testHandler,!1);var e=a(this.flowObj.opts.testMethod,this.fileObj,this),t=this.prepareXhrRequest(e,!0);this.xhr.send(t)},preprocessFinished:function(){this.preprocessState=2,this.send()},send:function(){var e=this.flowObj.opts.preprocess;if("function"==typeof e)switch(this.preprocessState){case 0:return this.preprocessState=1,void e(this);case 1:return}if(this.flowObj.opts.testChunks&&!this.tested)return void this.test();this.loaded=0,this.total=0,this.pendingRetry=!1;var t=this.fileObj.file.slice?"slice":this.fileObj.file.mozSlice?"mozSlice":this.fileObj.file.webkitSlice?"webkitSlice":"slice",i=this.fileObj.file[t](this.startByte,this.endByte,this.fileObj.file.type);this.xhr=new XMLHttpRequest,this.xhr.upload.addEventListener("progress",this.progressHandler,!1),this.xhr.addEventListener("load",this.doneHandler,!1),this.xhr.addEventListener("error",this.doneHandler,!1);var s=a(this.flowObj.opts.uploadMethod,this.fileObj,this),n=this.prepareXhrRequest(s,!1,this.flowObj.opts.method,i);this.xhr.send(n)},abort:function(){var e=this.xhr;this.xhr=null,e&&e.abort()},status:function(e){return this.previouslyUploaded?"success":this.pendingRetry||1===this.preprocessState?"uploading":this.xhr?this.xhr.readyState<4?"uploading":this.flowObj.opts.successStatuses.indexOf(this.xhr.status)>-1?"success":this.flowObj.opts.permanentErrors.indexOf(this.xhr.status)>-1||!e&&this.retries>=this.flowObj.opts.maxChunkRetries?"error":(this.abort(),"pending"):"pending"},message:function(){return this.xhr?this.xhr.responseText:""},progress:function(){if(this.pendingRetry)return 0;var e=this.status();return"success"===e||"error"===e?1:"pending"===e?0:this.total>0?this.loaded/this.total:0},sizeUploaded:function(){var e=this.endByte-this.startByte;return"success"!==this.status()&&(e=this.progress()*e),e},prepareXhrRequest:function(e,t,i,s){var n=a(this.flowObj.opts.query,this.fileObj,this,t);n=u(this.getParams(),n);var r=encodeURIComponent(this.fileObj.name),o=a(this.flowObj.opts.target,this.fileObj,this,t),h=null;if("GET"===e||"octet"===i){var f=[];l(n,function(e,t){f.push([encodeURIComponent(t),encodeURIComponent(e)].join("="))}),o=this.getTarget(o,f),h=s||null}else h=new FormData,l(n,function(e,t){h.append(t,e)}),h.append(this.flowObj.opts.fileParameterName,s,this.fileObj.file.name);return this.xhr.open(e,o,!0),this.xhr.withCredentials=this.flowObj.opts.withCredentials,this.xhr.setRequestHeader("X-Content-Range","bytes "+this.startByte+"-"+(this.endByte-1)+"/"+this.fileObj.size),this.xhr.setRequestHeader("Content-Disposition","attachment; filename='"+r+";' name='"+r+";'"),this.xhr.setRequestHeader("Session-ID",this.fileObj.uniqueIdentifier),this.flowObj.opts.overrideContentTypeHeader&&this.xhr.setRequestHeader("Content-Type",this.flowObj.opts.overrideContentTypeHeader),l(a(this.flowObj.opts.headers,this.fileObj,this,t),function(e,t){this.xhr.setRequestHeader(t,e)},this),h}},s.evalOpts=a,s.extend=u,s.each=l,s.FlowFile=n,s.FlowChunk=r,s.version="<%= version %>","object"==typeof module&&module&&"object"==typeof module.exports?module.exports=s:(e.Flow=s,"function"=="function"&&__webpack_require__(42)&&!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = function(){return s}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__)))}(window,document);
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(12)(module)))

/***/ },

/***/ 1307:
/***/ function(module, exports) {

window._wq=window._wq||[];

/***/ },

/***/ 1346:
/***/ function(module, exports, __webpack_require__) {

__webpack_require__(1307),__webpack_require__(1307),__webpack_require__(1432),__webpack_require__(1434),__webpack_require__(1435),__webpack_require__(1436),__webpack_require__(1437),__webpack_require__(1433);

/***/ },

/***/ 1432:
/***/ function(module, exports, __webpack_require__) {

var slice=[].slice;window._wq.push(function(t){return t.DataApi?void 0:(t.DataApi=function(){function e(e){this.options=e,this.accessToken=this.options.accessToken,this.media=new t.DataApi.Media(this)}return e.prototype.request=function(e,o,a,n){var r,s;return null==a&&(a={}),null==n&&(n={}),"GET"===e||"HEAD"===e?s=this.expandUrl(o,a):(s=this.expandUrl(o,{}),(!n.data||t.obj.isObject(n.data))&&(n=t.obj.merge({data:a},n))),r=t.obj.merge({type:e,dataType:"json",contentType:"application/json"},n),r.data&&t.obj.isObject(r.data)&&(r.data=t.JSON.stringify(r.data)),r.fallbackToJsonp=!0,this.info("request",s,r),t.remote.ajax(s,r)},e.prototype.get=function(){return this.request.apply(this,["GET"].concat(slice.call(arguments)))},e.prototype.post=function(){return this.request.apply(this,["POST"].concat(slice.call(arguments)))},e.prototype.put=function(e,o,a){return o=t.obj.merge({_method:"put"},o),this.request("POST",o,a)},e.prototype["delete"]=function(e,o,a){return o=t.obj.merge({_method:"delete"},o),this.request("POST",o,a)},e.prototype.expandUrl=function(e,o){var a,n,r,s;return null==o&&(o={}),r=t.url.parse(r),n="api."+("wistia.com"),a=t.obj.merge({access_token:this.accessToken},o),s=t.url.create({protocol:"https:",host:n,path:e,params:a}),s.absolute()},e}(),t.mixin(t.DataApi.prototype,t.logHelpers))});

/***/ },

/***/ 1433:
/***/ function(module, exports, __webpack_require__) {

var ref,s;_wq.push(function(e){return e.addQueue("_wapiq")}),(null!=(ref=window.Wistia)?ref.wistia:void 0)||(s=document.createElement("script"),s.type="text/javascript",s.async=!0,s.src="//"+("fast.wistia.net")+"/assets/external/E-v1.js",(document.body||document.head).appendChild(s));

/***/ },

/***/ 1434:
/***/ function(module, exports) {

window._wq.push(function(t){return t.DataApi.Media?void 0:t.DataApi.Media=function(){function e(t){this.dataApi=t}return e.prototype.find=function(t,e,n){return this.dataApi.get("/v2/medias/"+t,e,n)},e.prototype.embedCode=function(e,n,o){var i;return null==n&&(n={}),i="https://"+t.remote.externalEmbedHost()+"/embed/medias/"+e,n.url=i,t.jsonp.get("//"+t.remote.embedHost()+"/oembed.json",n,function(t){return o(t.html,t)})},e}()});

/***/ },

/***/ 1435:
/***/ function(module, exports) {

window._wq.push(function(t){return t.DataApi.ProgressBar?void 0:t.DataApi.ProgressBar=function(){function e(t){var e;this.containerElem=t,this.originalChildNodes=function(){var r,i,n,o;for(n=t.childNodes,o=[],r=0,i=n.length;i>r;r++)e=n[r],1===e.nodeType&&o.push(e);return o}(),this._ratio=0}return e.prototype.ratio=function(t){return this._ratio=t,this.updateBar()},e.prototype.barWidth=function(){return Math.round(t.elem.width(this.containerElem)*this._ratio)},e.prototype.updateBar=function(){return t.elem.animate(this.barElem,{width:this.barWidth()+"px",time:200,easing:"linear"})},e.prototype.instaUpdateBar=function(){return t.elem.style(this.barElem,{width:this.barWidth()+"px"})},e.prototype.showProgressBar=function(){return this.hideOriginalContent(),t.elem.append(this.containerElem,this.createBarElem()),this.fit()},e.prototype.hideProgressBar=function(){return t.elem.remove(this.barElem)},e.prototype.showOriginalContent=function(){return this.hideProgressBar(),t.elem.append(this.containerElem,this.originalChildNodes)},e.prototype.hideOriginalContent=function(){return t.elem.remove(this.originalChildNodes)},e.prototype.createBarElem=function(){return null!=this.barElem?this.barElem:this.barElem=t.elem.fromObject({className:"wistia_progress_bar",style:{backgroundColor:"#54bbff",left:0,position:"absolute",top:0}})},e.prototype.fit=function(){var e;return this.barElem?(e=t.elem.height(this.containerElem),t.elem.style(this.barElem,{height:e+"px"}),this.instaUpdateBar()):void 0},e}()});

/***/ },

/***/ 1436:
/***/ function(module, exports) {

var bind=function(e,t){return function(){return e.apply(t,arguments)}};window._wq.push(function(e){return e.DataApi.UploadButton?void 0:(e.DataApi.UploadButton=function(){function t(t){this.flashSuccess=bind(this.flashSuccess,this),this.showSuccess=bind(this.showSuccess,this),this.flashCancelled=bind(this.flashCancelled,this),this.showCancelled=bind(this.showCancelled,this),this.onFailureOverlayClick=bind(this.onFailureOverlayClick,this),this.showFailed=bind(this.showFailed,this),this.onUploadingOverlayMouseLeave=bind(this.onUploadingOverlayMouseLeave,this),this.onUploadingOverlayMouseEnter=bind(this.onUploadingOverlayMouseEnter,this),this.onUploadingOverlayClick=bind(this.onUploadingOverlayClick,this),this.showUploading=bind(this.showUploading,this),this.onNoUploadSupportClick=bind(this.onNoUploadSupportClick,this),this.showUploadVideo=bind(this.showUploadVideo,this),this.container=t,this.container.innerHTML="",this.uuid=e.seqId("wistia_upload_button_"),this._cleanUpState=function(){},this._lastState="upload_video",this._noCancelPrompt=new e.StopGo,this._noCancelPrompt(!0),e.util.injectWistiaOverpassFontFace(),e.elem.append(this.container,this.createWrapperElem()),e.elem.append(this.wrapperElem,this.createTextElem()),this.showUploadVideo()}return t.prototype.createWrapperElem=function(){return null!=this.wrapperElem?this.wrapperElem:this.wrapperElem=e.elem.fromObject({"class":"wistia_upload_button",style:{position:"relative"}})},t.prototype.createTextElem=function(){return null!=this.textElem?this.textElem:this.textElem=e.elem.fromObject({innerHTML:"Upload Video","class":"wistia_upload_button_text"})},t.prototype.createOverlayElem=function(){return null!=this.overlayElem?this.overlayElem:this.overlayElem=e.elem.fromObject({"class":"wistia_upload_button_overlay",style:{height:"100%",left:0,position:"absolute",top:0,width:"100%"}})},t.prototype.createUploadBarElem=function(){return null!=this.uploadBarElem?this.uploadBarElem:this.uploadBarElem=e.elem.fromObject({"class":"wistia_upload_bar"})},t.prototype.defaultText=function(){return"Upload Video"},t.prototype.resetText=function(){return this.textElem.innerHTML=this.defaultText()},t.prototype.showUploadVideo=function(){return this._cleanUpState(),this.setState("upload_video"),this.resetText(),this.noUploadSupport()&&(this.overlayElem||(e.elem.append(this.wrapperElem,this.createOverlayElem()),e.elem.rebind(this.overlayElem,"click",this.onNoUploadSupportClick))),this._cleanUpState=function(e){return function(){return e.removeOverlayElem(),e.resetText(),e.clearClasses()}}(this)},t.prototype.noUploadSupport=function(t){return null!=t?this._noUploadSupport=t:null!=this._noUploadSupport?this._noUploadSupport:e.detect.browser.msie&&(e.detect.browser.version<8||e.detect.browser.quirks)},t.prototype.onNoUploadSupportClick=function(e){return e.preventDefault(),alert("Uploading is not supported with this version of your browser. Please upgrade to a modern version."),!0},t.prototype.showUploading=function(t){return"uploading"!==this._state&&this._cleanUpState(),this.setState("uploading"),this.uploadingElem||e.elem.prepend(this.wrapperElem,this.createUploadBarElem()),this.updateUploadingPercent(t),this.overlayElem||(e.elem.append(this.wrapperElem,this.createOverlayElem()),e.elem.rebind(this.overlayElem,"click",this.onUploadingOverlayClick),e.detect.ipad||e.detect.iphone||e.detect.android||(e.elem.rebind(this.overlayElem,"mouseenter",this.onUploadingOverlayMouseEnter),e.elem.rebind(this.overlayElem,"mouseleave",this.onUploadingOverlayMouseLeave))),this._cleanUpState=function(t){return function(){return e.eventLoop.remove(t.uuid+".ellipsis_animation"),t._noCancelPrompt(!0),t.resetText(),t.clearClasses(),t.removeUploadBarElem(),t.removeOverlayElem()}}(this)},t.prototype.onUploadingOverlayClick=function(e){return e.preventDefault(),e.stopPropagation(),confirm("Cancel uploading?")?this.trigger("confirmed-cancel"):void 0},t.prototype.onUploadingOverlayMouseEnter=function(){var e;return e=this.textElem.innerHTML,this._noCancelPrompt(!1),this.textElem.innerHTML="Cancel?",this._noCancelPrompt(function(t){return function(){return t.textElem.innerHTML=e}}(this))},t.prototype.onUploadingOverlayMouseLeave=function(){return this._noCancelPrompt(!0)},t.prototype.showFailed=function(t){return this._cleanUpState(),this._failureReason=t||"An error occurred while uploading the file. Please check your network connection and try again.",this.setState("upload_failure"),this.textElem.innerHTML="Upload failed",this.wrapperElem.setAttribute("title","Upload failed. Click for details and to try again."),e.elem.append(this.wrapperElem,this.createOverlayElem()),e.elem.rebind(this.overlayElem,"click",this.onFailureOverlayClick),this._cleanUpState=function(e){return function(){return e.clearClasses(),e.removeOverlayElem(),e.resetText(),e._failureReason=null}}(this)},t.prototype.onFailureOverlayClick=function(e){return e.preventDefault(),e.stopPropagation(),alert(this._failureReason),this.showUploadVideo(),this.removeOverlayElem()},t.prototype.showCancelled=function(){return this._cleanUpState(),this.setState("upload_cancelled"),this.textElem.innerHTML="Upload cancelled",this._cleanUpState=function(e){return function(){return e.clearClasses(),e.resetText()}}(this)},t.prototype.removeOverlayElem=function(){return this.overlayElem?(e.elem.remove(this.overlayElem),this.overlayElem=null):void 0},t.prototype.removeUploadBarElem=function(){return this.uploadBarElem?(e.elem.remove(this.uploadBarElem),this.uploadBarElem=null):void 0},t.prototype.flashCancelled=function(){return this.showCancelled(),e.timeout(this.uuid+".flash.show_upload_video",this.showUploadVideo,1600)},t.prototype.showSuccess=function(){return this._cleanUpState(),this.setState("upload_success"),this.textElem.innerHTML="Success!",this._cleanUpState=function(e){return function(){return e.clearClasses(),e.resetText()}}(this)},t.prototype.flashSuccess=function(){return this.showSuccess(),e.timeout(this.uuid+".flash.show_upload_video",this.showUploadVideo,1600)},t.prototype.uploadPercent=function(e){return null==e&&(e=this._uploadRatio),Math.round(100*(e||0))+"%"},t.prototype.setState=function(t){var i;return i=this._state,this._state=t,this.clearClasses(),e.elem.addClass(this.wrapperElem,"wistia_"+t),this.trigger("statechange",t,i)},t.prototype.clearClasses=function(){return e.elem.removeClass(this.wrapperElem,"wistia_uploading"),e.elem.removeClass(this.wrapperElem,"wistia_upload_success"),e.elem.removeClass(this.wrapperElem,"wistia_upload_failure"),e.elem.removeClass(this.wrapperElem,"wistia_upload_cancelled")},t.prototype.updateUploadingPercent=function(t){return this._uploadRatio=t,this._noCancelPrompt(function(i){return function(){var o,n,l,r,a,s,p;if(""===t){for(i.textElem.innerHTML="Uploading",o=new Array(3),o[0]=e.elem.fromObject({tagName:"span",innerHTML:"&nbsp;."}),o[1]=e.elem.fromObject({tagName:"span",innerHTML:"&nbsp;."}),o[2]=e.elem.fromObject({tagName:"span",innerHTML:"&nbsp;."}),r=0,a=o.length;a>r;r++)n=o[r],e.elem.style(n,{transition:"opacity 200ms ease"});e.elem.append(i.textElem,o),s=0,e.eventLoop.add(i.uuid+".ellipsis_animation",200,function(){var t,i,n,l,r;for(t=s%o.length,n=s%(2*o.length)>=o.length,i=l=0,r=o.length;r>=0?r>l:l>r;i=r>=0?++l:--l)n?t>=i?e.elem.style(o[i],{opacity:0}):e.elem.style(o[i],{opacity:1}):t>=i?e.elem.style(o[i],{opacity:1}):e.elem.style(o[i],{opacity:0});return s+=1})}else i.textElem.innerHTML="Uploading... "+i.uploadPercent(t);return l=i.containerWidth()+2,p=Math.round(t*l),e.elem.style(i.uploadBarElem,{width:p+"px"})}}(this))},t.prototype.containerWidth=function(){return 120},t.prototype.containerHeight=function(){return 34},t.prototype.fit=function(){return e.elem.style(this.wrapperElem,{width:this.containerWidth()+"px",height:this.containerHeight()+"px"})},t}(),e.mixin(e.DataApi.UploadButton.prototype,e.bindable))});

/***/ },

/***/ 1437:
/***/ function(module, exports, __webpack_require__) {

var bind=function(e,t){return function(){return e.apply(t,arguments)}},slice=[].slice;window._wq.push(function(e){var t;if(!e.Uploader)return t=__webpack_require__(859),e.Uploader=function(){function i(t){this.options=null!=t?t:{},this._onUploadButtonStateChange=bind(this._onUploadButtonStateChange,this),this._onClickedCancel=bind(this._onClickedCancel,this),this._onBeforeUnload=bind(this._onBeforeUnload,this),this._onFlowFileProgress=bind(this._onFlowFileProgress,this),this._onFlowFileComplete=bind(this._onFlowFileComplete,this),this._onFlowFileSuccess=bind(this._onFlowFileSuccess,this),this._onFlowFileError=bind(this._onFlowFileError,this),this._onFlowFileAdded=bind(this._onFlowFileAdded,this),this._onFlowFilesAdded=bind(this._onFlowFilesAdded,this),this._onFlowFilesSubmitted=bind(this._onFlowFilesSubmitted,this),this._handleIframeMessage=bind(this._handleIframeMessage,this),this._resetUploader=bind(this._resetUploader,this),this.options=e.obj.merge({dropZoneClickable:!0},this.options),this.uuid=e.seqId(),this._processedFile=new e.StopGo,this.dataApi=new e.DataApi({accessToken:this.options.accessToken}),this.setup()}return i.prototype.setFileName=function(e){return this._fileName=e,this.iframeElem?this._sendIframeMessage({event:"setFileName",value:e}):void 0},i.prototype.setFileDescription=function(e){return this._fileDescription=e,this.iframeElem?this._sendIframeMessage({event:"setFileDescription",value:e}):void 0},i.prototype.setProjectId=function(e){return this._projectId=e,this.iframeElem?this._sendIframeMessage({event:"setProjectId",value:e}):void 0},i.prototype.setEmbedCodeOptions=function(e){return this._embedCodeOptions=e},i.prototype.setAccessToken=function(e){return this._accessToken=e,this.dataApi.accessToken=e},i.prototype.getEmbedCode=function(t,i,o){var n;return n="string"==typeof t?t:t.id,i=e.obj.merge({embedType:"async"},i),this.dataApi.media.embedCode(n,i,o)},i.prototype.getThumbnailUrl=function(t,i,o){return null==i&&(i={}),this.getEmbedCode(t,{},function(t,n){var r,s,l,a;return r=n.width/n.height,l=e.url.parse(n.thumbnail_url),i.params&&(l.params=i.params),i.width&&i.height?(a=i.width,s=i.height):i.width?(a=i.width,s=a/r):i.height?(s=i.height,a=s*r):(a=640,s=a/r),a=Math.round(a),s=Math.round(s),i.mode&&"crop-resize"!==i.mode?"resize"===i.mode&&(l.params.image_resize=a+"x"+s):l.params.image_crop_resized=a+"x"+s,o(l.absolute())})},i.prototype.videoExtensions=function(){return this.options.videoExtensions?(this.options.videoExtensions+" "+this.options.extraVideoExtensions).split(/\s+/):this._videoExtensions||(this._videoExtensions=("webm mkv flv vob ogv ogg avi mov qt wmv asf mp4 m4p m4v mpg mpeg m2v\nsvi 3gp 3g2 flv f4v f4p f4a f4b "+this.options.extraVideoExtensions).split(/\s+/))},i.prototype.removePreview=function(){return this._removePreview()},i.prototype.cancel=function(t){var i,o,n,r,s,l;if(null==t&&(t={}),this.flow){for(r=this.flow.files,o=0,n=r.length;n>o;o++)i=r[o],i._cancelled=!0;return this.flow.cancel(),t.flash!==!1&&null!=(s=this.uploadButton)&&s.flashCancelled(),this.trigger("uploadcancelled",this._currentFile)}return this.iframeElem?(t.flash!==!1&&null!=(l=this.uploadButton)&&l.flashCancelled(),this.trigger("uploadcancelled",this._currentFile)):e.error("Unable to cancel: Couldn't find flow or upload iframe.")},i.prototype.isUploading=function(){return!!this._uploading},i.prototype.setup=function(){return this.options.dropIn?(this._countMetric("dropin-option"),this._setupDropinElems()):(this._countMetric("custom-option"),this.buttonElem=this._elemFromInput(this.options.button),this.dropZoneElem=this._elemFromInput(this.options.dropZone),this.previewElem=this._elemFromInput(this.options.preview)),this.buttonElem&&!this.options.customButton&&(this.uploadButton=new e.DataApi.UploadButton(this.buttonElem),this.uploadButton.bind("confirmed-cancel",this._onClickedCancel),this.uploadButton.bind("statechange",this._onUploadButtonStateChange)),e.util.injectWistiaOverpassFontFace(),this._noUploadSupport()?(this._countMetric("init-no-upload-support"),this._initNoUploadSupport()):this._useIframeUploader()?(this._countMetric("init-iframe-uploader"),this._initIframeUploader()):(this._countMetric("init-flow"),this._initFlow()),this._setupBindings()},i.prototype._elemFromInput=function(e){return"string"==typeof e?document.getElementById(e):e},i.prototype._setupDropinElems=function(){var t,i,o;return this.dropZoneElem=this._elemFromInput(this.options.dropIn),e.elem.addClass(this.dropZoneElem,"wistia_upload_drop_zone"),"dark_background"===this.options.theme?e.elem.addClass(this.dropZoneElem,"wistia_upload_theme_dark_background"):e.elem.addClass(this.dropZoneElem,"wistia_upload_theme_light_background"),this.previewElem=e.elem.fromObject({id:e.seqId("wistia_","_upload_preview"),"class":"wistia_upload_preview"}),i=e.elem.fromObject({tagName:"img",src:this.uploadIconSrc(),"class":"wistia_upload_graphic",alt:"Upload Video"}),o=e.elem.fromObject({"class":"wistia_upload_text",innerHTML:"Drag and drop a file or",style:{visibility:"hidden"}}),this.buttonElem=e.elem.fromObject({id:e.seqId("wistia_","_upload_button"),alt:"Upload Video"}),t=e.elem.fromObject({"class":"wistia_upload_drop_zone_hover"}),e.elem.append(this.dropZoneElem,this.previewElem),e.elem.append(this.dropZoneElem,i),e.elem.append(this.dropZoneElem,o),e.elem.append(this.dropZoneElem,t),e.elem.append(this.dropZoneElem,this.buttonElem)},i.prototype.uploadIconSrc=function(){return"dark_background"===this.options.theme?"//fast.wistia.com/images/upload-icon-white@2x.png":"//fast.wistia.com/images/upload-icon@2x.png"},i.prototype._setupBindings=function(){return this.bind("uploadstart",function(e){return function(){return e._uploading=!0,window.onbeforeunload||(window.onbeforeunload=e._onBeforeUnload),e._countMetric("uploadstart")}}(this)),this.bind("uploadprogress",function(e){return function(t,i){var o,n;return e._uploading?null!=(o=e.uploadButton)?o.updateUploadingPercent(i):void 0:null!=(n=e.uploadButton)?n.showUploading(i):void 0}}(this)),this.bind("uploadcomplete",this._resetUploader),this.bind("uploadcancelled",function(e){return function(){return e._countMetric("uploadcancelled"),e._resetUploader()}}(this)),this.bind("uploadsuccess",function(e){return function(){return e._countMetric("uploadsuccess")}}(this)),this.bind("uploadfailed",function(e){return function(){return e._countMetric("uploadfailed")}}(this))},i.prototype._resetUploader=function(){return this.iframeElem&&this._reinitIframeUploader(),this._processedFile(!1),window.onbeforeunload===this._onBeforeUnload&&(window.onbeforeunload=null),this._uploading=!1,this._unsetMediaAttrs()},i.prototype._unsetMediaAttrs=function(){return this._fileName=null,this._fileDescription=null,this._projectId=null,this._embedCodeOptions=null},i.prototype._noUploadSupport=function(){return this.options.noUploadSupport===!0||e.detect.browser.msie&&(e.detect.browser.version<8||e.detect.browser.quirks)},i.prototype._initNoUploadSupport=function(){var e,t;return null!=(e=this.uploadButton)&&e.noUploadSupport(!0),null!=(t=this.uploadButton)?t.showUploadVideo():void 0},i.prototype._useIframeUploader=function(){return this.options.iframeUploader===!0||e.detect.browser.msie&&e.detect.browser.version<11},i.prototype._initIframeUploader=function(){return this.buttonElem?(this.iframeElem=e.elem.fromObject({allowtransparency:"true",frameborder:0,height:"100%",scrolling:"no",src:e.proto()+"//"+e.remote.embedHost()+"/embed/iframe_uploader",style:{border:0,height:"100%",filter:"Alpha(Opacity=1)",msFilter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=1)",left:0,opacity:.01,position:"absolute",top:0,width:"100%"},tagName:"iframe",width:"100%"}),this.uploadButton?e.elem.append(this.uploadButton.wrapperElem,this.iframeElem):e.elem.append(this.buttonElem,this.iframeElem),this.iframeElem.onload=function(e){return function(){return e._sendIframeMessage({event:"handshake",accessToken:e._accessToken||e.options.accessToken}),e.setProjectId(e.options.projectId)}}(this),e.elem.rebind(window,"message",this._handleIframeMessage)):this.notice("No button given; uploading will not work.")},i.prototype._destroyIframeUploader=function(){return e.elem.unbind(window,"message",this._handleIframeMessage),e.elem.remove(this.iframeElem),this.iframeElem=null},i.prototype._reinitIframeUploader=function(){return this._destroyIframeUploader(),this._initIframeUploader()},i.prototype._sendIframeMessage=function(e){var t,i,o;e.wistiaUploaderId=this.uuid,i=[];for(t in e)o=e[t],i.push(encodeURIComponent(t)+"="+encodeURIComponent(o));return this.iframeElem.contentWindow.postMessage(i.join("&"),"*")},i.prototype._handleIframeMessage=function(t){var i,o,n,r,s;if(n=this._parseIframeMessage(t))if("selectedfile"===n.event){if(this._currentFile={name:n.fileName},i=!0,this.options.allowNonVideoUploads===!0||this._fileHasVideoExtension(this._currentFile)||(i=!1,o=this._invalidExtError(this._currentFile),this.error(o),null!=(r=this.uploadButton)&&r.showFailed(o)),i)return this._processFileMaybeAsync(function(t){return function(){return t._validateOptionsBeforeUpload(),e.timeout(t.uuid+".start_iframe_upload",function(){return t._sendIframeMessage({event:"startupload"})})}}(this))}else{if("uploading"===n.event)return this.trigger("uploadstart",this._currentFile),e.elem.style(this.iframeElem,{position:"absolute",left:"-99999em"}),this.uploadButton.showUploading("");if("response"===n.event)return s=e.JSON.parse(n.uploadResponse),s.hashed_id?this.dataApi.media.find(s.hashed_id,{},{success:function(e){return function(t){return e._onSuccess(t)}}(this),error:function(e){return function(){return e._onError({error:"Upload succeeded, but failed to fetch data"})}}(this)}):this._onError(s)}},i.prototype._parseIframeMessage=function(e){var t,i,o,n,r,s,l,a;if("string"==typeof e.data&&/wistiaUploaderId/.test(e.data)){for(r=e.data.split("&"),s={},t=0,o=r.length;o>t;t++)n=r[t],l=n.split("="),i=l[0],a=l[1],s[decodeURIComponent(i)]=decodeURIComponent(a);return s.wistiaUploaderId===this.uuid?s:null}return null},i.prototype._initFlow=function(){var i,o,n,r,s,l;if(this.flow=new t(this._flowOptions()),i=!1,l=!0,this.flow.on("filesAdded",this._onFlowFilesAdded),this.flow.on("filesSubmitted",this._onFlowFilesSubmitted),this.flow.on("fileAdded",this._onFlowFileAdded),this.flow.on("fileProgress",this._onFlowFileProgress),this.flow.on("fileSuccess",this._onFlowFileSuccess),this.flow.on("complete",this._onFlowFileComplete),this.flow.on("fileError",this._onFlowFileError),this.dropZoneElem){for(this.flow.assignDrop(this.dropZoneElem),s=this.dropZoneElem.childNodes,o=0,n=s.length;n>o;o++)r=s[o],1===r.nodeType&&e.elem.hasClass(r,"wistia_upload_text")&&e.elem.style(r,{visibility:"visible"});e.elem.bind(this.dropZoneElem,"dragenter",function(t){return function(){return e.elem.addClass(t.dropZoneElem,"wistia_dragover")}}(this)),e.elem.bind(this.dropZoneElem,"dragleave",function(t){return function(i){return e.elem.containsOffset(t.dropZoneElem,i.pageX,i.pageY)?void 0:e.elem.removeClass(t.dropZoneElem,"wistia_dragover")}}(this))}return this.options.dropZoneClickable&&this.buttonElem&&this.dropZoneElem&&e.elem.isInside(this.buttonElem,this.dropZoneElem)?this.flow.assignBrowse(this.dropZoneElem,i,l):(this.buttonElem&&this.flow.assignBrowse(this.buttonElem,i,l),this.dropZoneElem&&this.options.dropZoneClickable?this.flow.assignBrowse(this.dropZoneElem,i,l):void 0)},i.prototype._flowOptions=function(){return{target:"https://"+("upload.wistia.com"),simultaneousUploads:1,uploadMethod:"POST",testMethod:"POST",method:"octet",chunkSize:1048576,maxChunkRetries:10,testChunks:!1,allowDuplicateUploads:!0,overrideContentTypeHeader:"application/octet-stream",query:function(e){return function(t){var i,o,n;return i=e._hasPrime(t),n=e._getPrimeForFile(t),i||e._countMetric("primechosen"),o={__prime__:n,access_token:e._accessToken||e.options.accessToken,project_id:e.options.projectId},e.options.allowNonVideoUploads||(o.expected_type="video"),e._fileName&&(o.name=e._fileName),e._fileDescription&&(o.description=e._fileDescription),e._projectId&&(o.project_id=e._projectId),o}}(this),preprocess:function(e){return function(t){return e._processFileMaybeAsync(function(){return e._validateOptionsBeforeUpload(),e._availablePrimes?t.preprocessFinished():e._cacheAvailablePrimes(function(){return t.preprocessFinished()})})}}(this)}},i.prototype._validateOptionsBeforeUpload=function(){if(!this.options.demo&&!this.options.projectId&&!this._projectId)throw new Error("Wistia Uploader: The projectId option must be defined to start an upload.")},i.prototype._processFileMaybeAsync=function(e){var t,i,o,n;return this._processedFile()||(o="function"==typeof(t=this.options).beforeUpload?t.beforeUpload(this._currentFile):void 0,"function"==typeof(null!=o?o.then:void 0)?(this._processedFile(!1),n=function(e){return function(t){return e._processedFile(!0)}}(this),i=function(e){return function(t){return e.error("beforeUpload promise function returned error, cancelling upload",t),e.cancel({flash:!1}),e._onError({error:"Preprocessing the file before upload didn't finish successfully."})}}(this),o.then(n,i)):this._processedFile(!0)),this._processedFile(e)},i.prototype._cacheAvailablePrimes=function(t,i){return null==i&&(i=0),e.remote.ajax("https://"+("upload.wistia.com")+"/primes",{dataType:"json",fallbackToJsonp:!0,success:function(e){return function(i){return e._availablePrimes=i,e._lastCachedPrimesAt=(new Date).getTime(),"function"==typeof t?t():void 0}}(this),error:function(e){return function(){return 10>i?setTimeout(function(){return e._cacheAvailablePrimes(t,i+1)},1e3*i):e._availablePrimes=[]}}(this)})},i.prototype._uncacheAvailablePrimes=function(){return this._availablePrimes=null,this._lastCachedPrimesAt=null},i.prototype._primeCacheIsStale=function(){return!this._lastCachedPrimesAt||(new Date).getTime()-this._lastCachedPrimesAt>6e4},i.prototype._hasPrime=function(e){var t;return!!(null!=(t=this._fileToPrime)?t[e.uniqueIdentifier]:void 0)},i.prototype._getPrimeForFile=function(e){return null==this._fileToPrime&&(this._fileToPrime={}),this._fileToPrime[e.uniqueIdentifier]?this._fileToPrime[e.uniqueIdentifier]:this._fileToPrime[e.uniqueIdentifier]=this._randomPrime()},i.prototype._randomPrime=function(){var e;return(null!=(e=this._availablePrimes)?e.length:void 0)>0?this._availablePrimes[Math.floor(Math.random()*this._availablePrimes.length)]:null},i.prototype._onFlowFilesSubmitted=function(e,t){return this._suppressBrowse(),this.flow.upload()},i.prototype._onFlowFilesAdded=function(e,t){},i.prototype._onFlowFileAdded=function(e){var t,i,o,n,r,s,l;return this._currentFile=e.file,t=!0,i=1e9,"."===e.name.charAt(0)&&(t=!1),this.flow.supportDirectory||""===e.getExtension()&&(t=!1,o="Uploading directories is not supported by your browser.",this.error(o),null!=(n=this.uploadButton)&&n.showFailed(o)),e.size>=8*i&&(t=!1,o=e.name+" was not uploaded. The maximum upload size is 8GB.",this.error(o),null!=(r=this.uploadButton)&&r.showFailed(o)),this.options.allowNonVideoUploads===!0||this._fileHasVideoExtension(this._currentFile)||(t=!1,o=this._invalidExtError(e),this.error(o),null!=(s=this.uploadButton)&&s.showFailed(o)),t?(this.trigger("uploadstart",e),null!=(l=this.uploadButton)&&l.showUploading(0)):this._allowBrowse(),t},i.prototype._invalidExtError=function(e){var t,i,o,n;return t=this._getExtension(e),o=t?'The file extension ".'+t+'" was not recognized as a video.':"No file extension given.",n="Please verify that you are uploading a video and that is exported with one of these extensions: "+this.videoExtensions().join(", ")+".",i=o+" "+n},i.prototype._getExtension=function(e){var t;return e.getExtension?e.getExtension()||"":e.name?(t=e.name.match(/[\.]([^\.]+)$/),t&&t[1]||""):""},i.prototype._fileHasVideoExtension=function(e){var t,i;return i=new RegExp(this.videoExtensions().join("|"),"i"),t=this._getExtension(e),t?i.test(t):!1},i.prototype._onFlowFileError=function(t,i){var o,n,r;return this.error("Upload failed",t,i),this.uploadButton?(n=function(){var t;try{return e.JSON.parse(i)}catch(t){return o=t,r={error:"There was an unexpected error while uploading. Please check your network connection and try again."},this.error("Unparseable error",o),r}}.call(this),this._onError(n)):void 0},i.prototype._onFlowFileSuccess=function(e,t,i){var o;return this.info("Upload succeeded",e,t,i),o=this._getJsonResponseFromChunks(e),o.hashed_id?this.dataApi.media.find(o.hashed_id,{},{success:function(e){return function(t){return e._onSuccess(t)}}(this),error:function(e){return function(){return e._onError({error:"Upload succeeded, but failed to fetch data"})}}(this)}):this._onError(o),!0},i.prototype._onSuccess=function(e){var t;return null!=(t=this.uploadButton)&&t.flashSuccess(),/video/i.test(e.type)&&this._showPreview(e),this.trigger("uploadsuccess",this._currentFile,e),/video/i.test(e.type)&&this._bindings.uploadembeddable&&!function(t){return function(i,o){return t.getEmbedCode(e,o,function(){var o;return o=1<=arguments.length?slice.call(arguments,0):[],t.trigger.apply(t,["uploadembeddable",i].concat(slice.call([e].concat(o))))})}}(this)(this._currentFile,this._embedCodeOptions||this.options.embedCodeOptions),this.trigger("uploadcomplete",this._currentFile)},i.prototype._onError=function(e){var t,i,o,n,r;return e.error?(e.error.message?null!=(t=this.uploadButton)&&t.showFailed(e.error.message):null!=(i=this.uploadButton)&&i.showFailed(e.error),this.trigger("uploadfailed",this._currentFile,e),this.trigger("uploadcomplete",this._currentFile)):e.errors?(e.errors instanceof Array?null!=(o=this.uploadButton)&&o.showFailed(e.errors.join("\n")):null!=(n=this.uploadButton)&&n.showFailed(e.errors),this.trigger("uploadfailed",this._currentFile,e),this.trigger("uploadcomplete")):(null!=(r=this.uploadButton)&&r.showFailed(),this.trigger("uploadfailed",this._currentFile),this.trigger("uploadcomplete",this._currentFile))},i.prototype._getJsonResponseFromChunks=function(t){var i,o,n,r,s,l,a;for(l=t.chunks.slice(0).reverse(),r=0,s=l.length;s>r;r++)if(i=l[r],null!=(a=i.xhr)?a.responseText:void 0)try{return e.JSON.parse(i.xhr.responseText)}catch(n){o=n}return null},i.prototype._showPreview=function(t){var i,o,n;if(this.previewElem){this.previewId=e.seqId("wistia_","_"+t.id+"_preview"),this.embedCodeElem=e.elem.fromObject({id:this.previewId,"class":"wistia_embed wistia_async_"+t.id+" "+this._embedOptionsStringForPreview(),style:{height:"100%",width:"100%"}}),this.previewElem.innerHTML="",e.elem.append(this.previewElem,this.embedCodeElem),e.elem.style(this.previewElem,{zIndex:2});try{e.embeds.setup()}catch(o){i=o,e.error("failed to show initialize preview"),e.error(i)}return this._suppressBrowse(),n=e.api(this.previewId),n.bind("afterreplace",function(t){return function(){return n.height(e.elem.height(t.previewElem)),n.width(e.elem.width(t.previewElem)),n.monitor(),e.elem.style(t.previewElem,{width:"100%",height:"100%"}),n.monitor(),n.unbind}}(this)),n.embedded(function(t){return function(){return t.dropZoneElem&&e.elem.addClass(t.dropZoneElem,"wistia_preview_visible"),t.buttonElem&&e.elem.addClass(t.buttonElem,"wistia_preview_visible"),t.previewElem?e.elem.addClass(t.previewElem,"wistia_preview_visible"):void 0}}(this))}},i.prototype._embedOptionsStringForPreview=function(){return this.options.embedCodeOptions?e.url.jsonToParams(this.options.embedCodeOptions).replace(/&/," "):""},i.prototype._removePreview=function(){var t;if(this.previewElem&&this.previewId)return this.dropZoneElem&&e.elem.removeClass(this.dropZoneElem,"wistia_preview_visible"),this.buttonElem&&e.elem.removeClass(this.buttonElem,"wistia_preview_visible"),this.previewElem&&e.elem.removeClass(this.previewElem,"wistia_preview_visible"),null!=(t=e.api(this.previewId))&&t.remove(),this.previewId=null,this._allowBrowse(),e.elem.style(this.previewElem,{zIndex:""})},i.prototype._suppressBrowse=function(){var e,t;return null!=(e=this.buttonElem)&&e.setAttribute("data-suppress-browse","true"),null!=(t=this.dropZoneElem)?t.setAttribute("data-suppress-browse","true"):void 0},i.prototype._allowBrowse=function(){var e,t;return null!=(e=this.buttonElem)&&e.removeAttribute("data-suppress-browse"),null!=(t=this.dropZoneElem)?t.removeAttribute("data-suppress-browse"):void 0},i.prototype._onFlowFileComplete=function(){return this.info.apply(this,["Upload complete"].concat(slice.call(arguments))),this._primeCacheIsStale()&&this._uncacheAvailablePrimes(),this._currentFileParams=null},i.prototype._onFlowFileProgress=function(e,t){var i;if(!e._cancelled)return i=e.sizeUploaded()/e.size,this.trigger("uploadprogress",this._currentFile,i)},i.prototype._onBeforeUnload=function(){return this.options.onBeforeUnload===!1?this.notice("onBeforeUnload set to false, allowing unload with no warning."):this.options.onBeforeUnload?"string"==typeof this.options.onBeforeUnload?this.options.onBeforeUnload:this.options.onBeforeUnload.apply(window,arguments):"Are you sure you wish to leave the page? Any active uploads will be lost."},i.prototype._onClickedCancel=function(){return this.cancel()},i.prototype._onUploadButtonStateChange=function(e){return"upload_video"!==e||this.previewId?this._suppressBrowse():this._allowBrowse()},i.prototype._defaultMetricData=function(){var t,i,o,n,r,s,l,a,p,d,u,h;t=null!=(s=window.navigator.connection||window.navigator.mozConnection||window.navigator.webkitConnection)?s.type:void 0,d=e.obj.clone(this.options),d.accessToken?d.accessToken="<redacted>":d.accessToken="<missing>";for(n in d)h=d[n],"function"==typeof h&&(d[n]="<function>");return i={},this._currentFile&&(i.name=this._currentFile.name,null!=this._currentFile.size&&(i.size=this._currentFile.size),null!=this._currentFile.type&&(i.type=this._currentFile.type),(o=null!=(l=this.flow)?l.files[0]:void 0)&&(r=this._getPrimeForFile(o))),u={},this._projectId&&(u.projectId=this._projectId),this._fileName&&(u.fileName=this._fileName),this._fileDescription&&(u.fileDescription=this._fileDescription),this._embedCodeOptions&&(u.embedCodeOptions=this._embedCodeOptions),this._accessToken&&(u.accessToken="set-via-setAccessToken"),{locationHref:location.href,location:("undefined"!=typeof location&&null!==location&&null!=(a=location.protocol)?a.length:void 0)&&("undefined"!=typeof location&&null!==location&&null!=(p=location.hostname)?p.length:void 0)?location.protocol+"//"+location.hostname:null,agent:navigator.userAgent,connection_type:t,options:d,file:i,prime:r,uploadParams:u}},i.prototype._countMetric=function(t,i,o){return o=e.obj.merge(this._defaultMetricData(),o),e.Metrics.count("uploader/"+t,1,o)},i}(),e.mixin(e.Uploader.prototype,e.bindable),e.mixin(e.Uploader.prototype,e.logHelpers)});

/***/ }

/******/ });